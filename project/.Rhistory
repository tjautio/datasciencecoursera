a
unique(a)
a <- grep("Coal$", info$EI.Sector)
a <- data.frame(unique(info[a,1]))
a
a <- grep("Coal$", info$EI.Sector)
a <- data.frame(unique(info[a,4]))
a
a <- data.frame(unique(info[a,1]))
a <- grep("Coal$", info$EI.Sector)
a <- data.frame(unique(info[a,1]))
coal <- grep("Coal$", info$EI.Sector)
coal <- data.frame(unique(info[coal,1]))
rm(a)
rm(info2)
head(data)
filt <- filter(data, SCC = a)
filt <- filter(data, SCC = coal)
coal
filt <- filter(data, SCC == coal)
grep(coal[1], data$SCC)
coal[1]
coal[1,]
grep(coal[1,], data$SCC)
coal[1,]
coal[2,]
length(coal)
length(coal[,1])
co <- c()
for (i in length(coal[,1])){
em <- grep(coal[i,],data$SCC)
co <- rbind(co,em)
}
co
co <- c()
em <- grep(coal[2,],data$SCC)
em
co <- c()
for (i in length(coal[,1])){
em <- grep(coal[i,],data$SCC)
co <- rbind(co, em)
}
i
1:99
co <- c()
for (i in 1:length(coal[,1]){
em <- grep(coal[i,],data$SCC)
co <- rbind(co, em)
}
co <- c()
for (i in 1:length(coal[,1]){
em <- grep(coal[i,],data$SCC)
co <- rbind(co, em)
}
co <- c()
for (i in 1:length(coal[,1])){
em <- grep(coal[i,],data$SCC)
co <- rbind(co, em)
}
co
as.list(co)
co1 <- as.list(co)
co1[1]
co1[2]
co1[3]
co1[,1]
co1
unique(co1)
co2 <- unique(co1)
co2
a <- c(co1)
a
b <- data[co1,]
co2 <- as.numeric(co1)
co2
b <- data[co2,]
b
head(b)
head(data)
a <- as.list(co)
a <- c(co)
a
pol <- c()
for (i in c(1999,2002,2005,2008)){
filt <- filter(data, year == i)
c <- cbind(i,sum(filt$Emission))
pol <- rbind(pol, c)
}
pol <- data.frame(pol)
pol
pol <- c()
for (i in c(1999,2002,2005,2008)){
filt <- filter(b, year == i)
c <- cbind(i,sum(filt$Emission))
pol <- rbind(pol, c)
}
pol <- data.frame(pol)
pol
pic <- barplot(pol$V2,
names.arg = pol$i,
col = "blue",
main = "Total PM2.5 Emission in Baltimore City, MD",
ylab = "Emission in unit")
pol <- c()
for (i in c(1999,2002,2005,2008)){
filt <- filter(b, year == i)
c <- cbind(i,sum(filt$Emission/100))
pol <- rbind(pol, c)
}
pol <- data.frame(pol)
barplot(pol$V2,
names.arg = pol$i,
col = "blue",
main = "Total PM2.5 Emission in Baltimore City, MD",
ylab = "Emission in unit x 100")
png("plot4.png")
pic <- barplot(pol$V2,
names.arg = pol$i,
col = "blue",
main = "Total PM2.5 Emission in Baltimore City, MD",
ylab = "Emission in unit x 100")
dev.off()
barplot(pol$V2,
names.arg = pol$i,
col = "blue",
main = "PM2.5 Emission from Coal in US",
ylab = "Emission in unit x 100")
png("plot4.png")
pic <- barplot(pol$V2,
names.arg = pol$i,
col = "blue",
main = "PM2.5 Emission from Coal in US",
ylab = "Emission in unit x 100")
dev.off()
png("plot4.png")
pic <- barplot(pol$V2,
names.arg = pol$i,
col = "blue",
main = "PM2.5 Emission from Coal in US",
ylab = "Emission in unit x 100")
dev.off()
rm(list=ls())
data <- readRDS("C:/users/timo/documents/github/datasciencecoursera/project/SummarySCC_PM25.rds")
info <- readRDS("C:/users/timo/documents/github/datasciencecoursera/project/Source_Classification_Code.rds")
data <- filter(data, fips == "24510")
names(info)
unique(info[4,]
)
unique(info[,2])
unique(info[,4])
names(info)
info2 <- filter(info, Data.Category == onroad)
info2 <- filter(info, Data.Category == "onroad")
info[,2]
info2 <- filter(info, Data.Category == "Onroad")
info2
info2[,4]
info2 <- filter(info, Data.Category == "Nonroad")
info2[,4]
head(data)
data <- filter(data, fips == "24510" & type == "ONROAD")
data <- readRDS("C:/users/timo/documents/github/datasciencecoursera/project/SummarySCC_PM25.rds")
head(data)
unique(data$type)
data <- filter(data, fips == "24510" & type == "ON-ROAD")
pol <- c()
for (i in c(1999,2002,2005,2008)){
filt <- filter(b, year == i)
c <- cbind(i,sum(filt$Emission/100))
pol <- rbind(pol, c)
}
pol <- data.frame(pol)
pol <- c()
for (i in c(1999,2002,2005,2008)){
filt <- filter(data, year == i)
c <- cbind(i,sum(filt$Emission/100))
pol <- rbind(pol, c)
}
pol <- data.frame(pol)
pol
pol <- c()
for (i in c(1999,2002,2005,2008)){
filt <- filter(data, year == i)
c <- cbind(i,sum(filt$Emission/))
pol <- rbind(pol, c)
}
pol <- data.frame(pol)
pol <- c()
for (i in c(1999,2002,2005,2008)){
filt <- filter(data, year == i)
c <- cbind(i,sum(filt$Emission))
pol <- rbind(pol, c)
}
pol <- data.frame(pol)
pol
pic <- barplot(pol$V2,
names.arg = pol$i,
col = "blue",
main = "PM2.5 Emission from Motor-vehicles in Baltimore City, MD",
ylab = "Emissions")
png("plot5.png")
pic <- barplot(pol$V2,
names.arg = pol$i,
col = "blue",
main = "PM2.5 Emission from Motor-vehicles in Baltimore City, MD",
ylab = "Emissions")
dev.off()
rm(list=ls())
source("plot6.R")
source("plot5.R")
source("plot6.R")
source("plot5.R")
?par
library(dplyr)
data <- readRDS("C:/users/timo/documents/github/datasciencecoursera/project/SummarySCC_PM25.rds")
info <- readRDS("C:/users/timo/documents/github/datasciencecoursera/project/Source_Classification_Code.rds")
datal <- filter(data, fips == "06037" & type == "ON-ROAD")
datab <- filter(data, fips == "24510" & type == "ON-ROAD")
poll <- c()
polb
for (i in c(1999,2002,2005,2008)){
filtl <- filter(datal, year == i)
cl <- cbind(i,sum(filtl$Emission))
pol <- rbind(poll, cl)
filtb <- filter(datab, year == i)
cb <- cbind(i,sum(filtb$Emission))
polb <- rbind(polb, cb)
}
poll <- data.frame(poll)
polb <- data.frame(polb)
poll <- c()
polb <- c()
for (i in c(1999,2002,2005,2008)){
filtl <- filter(datal, year == i)
cl <- cbind(i,sum(filtl$Emission))
pol <- rbind(poll, cl)
filtb <- filter(datab, year == i)
cb <- cbind(i,sum(filtb$Emission))
polb <- rbind(polb, cb)
}
poll <- data.frame(poll)
polb <- data.frame(polb)
poll
polb
poll <- c()
polb <- c()
for (i in c(1999,2002,2005,2008)){
filtl <- filter(datal, year == i)
cl <- cbind(i,sum(filtl$Emission))
pol <- rbind(poll, cl)
filtb <- filter(datab, year == i)
cb <- cbind(i,sum(filtb$Emission))
polb <- rbind(polb, cb)
}
poll <- data.frame(poll)
polb <- data.frame(polb)
poll <- c()
polb <- c()
for (i in c(1999,2002,2005,2008)){
filtl <- filter(datal, year == i)
cl <- cbind(i,sum(filtl$Emission))
poll <- rbind(poll, cl)
filtb <- filter(datab, year == i)
cb <- cbind(i,sum(filtb$Emission))
polb <- rbind(polb, cb)
}
poll <- data.frame(poll)
polb <- data.frame(polb)
polb
poll
names(polb) <- c("year", "emissions")
poll
polb
names(poll) <- c("year", "emissions")
poll
?mutate
poll
(poll[2,2]-poll[1,2])/poll[1,2]
changel <- c(NA,
(poll[2,2]-poll[1,2])/poll[1,2],
(poll[3,2]-poll[2,2])/poll[2,2],
(poll[4,2]-poll[3,2])/poll[3,2])
chnagel
changel
changel <- c(NA,
(polb[2,2]-polb[1,2])/polb[1,2],
(polb[3,2]-polb[2,2])/polb[2,2],
(polb[4,2]-polb[3,2])/polb[3,2])
changeb
changeb <- c(NA,
(polb[2,2]-polb[1,2])/polb[1,2],
(polb[3,2]-polb[2,2])/polb[2,2],
(polb[4,2]-polb[3,2])/polb[3,2])
changeb
?par
changel <- c(NA,
(poll[2,2]-poll[1,2])/poll[1,2],
(poll[3,2]-poll[2,2])/poll[2,2],
(poll[4,2]-poll[3,2])/poll[3,2])
poll <- cbind(poll, changel)
poll
polb <- cbind(polb, changeb)
?lines
par(mfrow = c(2,2))
barplot(poll$emissions,
names.arg = pol$year,
col = "red",
main = "PM2.5 Emission from Motor-vehicles in Los Angeles, CA",
ylab = "Emissions")
barplot(polb$emissions,
names.arg = pol$year,
col = "blue",
main = "PM2.5 Emission from Motor-vehicles in Baltimore City, MD",
ylab = "Emissions")
barplot(poll$changel,
names.arg = pol$year,
col = "red",
main = "% change in PM2.5 emissions in Los Angeles, CA",
ylab = "%")
barplot(polb$changeb,
names.arg = pol$year,
col = "blue",
main = "% change in PM2.5 emissions in Baltimore City, MD",
ylab = "%")
par(mfrow = c(2,2))
barplot(poll$emissions,
names.arg = poll$year,
col = "red",
main = "PM2.5 Emission from Motor-vehicles in Los Angeles, CA",
ylab = "Emissions")
barplot(polb$emissions,
names.arg = polb$year,
col = "blue",
main = "PM2.5 Emission from Motor-vehicles in Baltimore City, MD",
ylab = "Emissions")
barplot(poll$changel,
names.arg = poll$year,
col = "red",
main = "% change in PM2.5 emissions in Los Angeles, CA",
ylab = "%")
barplot(polb$changeb,
names.arg = polb$year,
col = "blue",
main = "% change in PM2.5 emissions in Baltimore City, MD",
ylab = "%")
poll <- c()
polb <- c()
for (i in c(1999,2002,2005,2008)){
filtl <- filter(datal, year == i)
cl <- cbind(i,sum(filtl$Emission))
poll <- rbind(poll, cl)
filtb <- filter(datab, year == i)
cb <- cbind(i,sum(filtb$Emission))
polb <- rbind(polb, cb)
}
poll <- data.frame(poll)
polb <- data.frame(polb)
names(poll) <- c("year", "emissions")
names(polb) <- c("year", "emissions")
changel <- c(NA,
100*(poll[2,2]-poll[1,2])/poll[1,2],
100*(poll[3,2]-poll[2,2])/poll[2,2],
100*(poll[4,2]-poll[3,2])/poll[3,2])
changeb <- c(NA,
100*(polb[2,2]-polb[1,2])/polb[1,2],
100*(polb[3,2]-polb[2,2])/polb[2,2],
100*(polb[4,2]-polb[3,2])/polb[3,2])
poll <- cbind(poll, changel)
polb <- cbind(polb, changeb)
par(mfrow = c(2,2))
barplot(poll$emissions,
names.arg = poll$year,
col = "red",
main = "PM2.5 from Motor-vehicles in Los Angeles, CA",
ylab = "Emissions")
barplot(polb$emissions,
names.arg = polb$year,
col = "blue",
main = "PM2.5 from Motor-vehicles in Baltimore City, MD",
ylab = "Emissions")
barplot(poll$changel,
names.arg = poll$year,
col = "red",
main = "% change in PM2.5 in Los Angeles, CA",
ylab = "%")
barplot(polb$changeb,
names.arg = polb$year,
col = "blue",
main = "% change in PM2.5 in Baltimore City, MD",
ylab = "%")
?png
png("plot6.png", width = 750, height = 700)
par(mfrow = c(2,2))
barplot(poll$emissions,
names.arg = poll$year,
col = "red",
main = "PM2.5 from Motor-vehicles in Los Angeles, CA",
ylab = "Emissions")
barplot(polb$emissions,
names.arg = polb$year,
col = "blue",
main = "PM2.5 from Motor-vehicles in Baltimore City, MD",
ylab = "Emissions")
barplot(poll$changel,
names.arg = poll$year,
col = "red",
main = "% change in PM2.5 in Los Angeles, CA",
ylab = "%")
barplot(polb$changeb,
names.arg = polb$year,
col = "blue",
main = "% change in PM2.5 in Baltimore City, MD",
ylab = "%")
dev.off()
?barplot
png("plot6.png", width = 750, height = 700)
par(mfrow = c(2,2))
barplot(poll$emissions,
names.arg = poll$year,
col = "red",
main = "PM2.5 from Motor-vehicles in Los Angeles, CA",
ylab = "Emissions")
barplot(polb$emissions,
names.arg = polb$year,
col = "blue",
main = "PM2.5 from Motor-vehicles in Baltimore City, MD",
ylab = "Emissions")
barplot(poll$changel,
names.arg = poll$year,
col = "red",
main = "% change in PM2.5 in Los Angeles, CA",
ylab = "%"
ylim = c(-20, +20))
barplot(polb$changeb,
names.arg = polb$year,
col = "blue",
main = "% change in PM2.5 in Baltimore City, MD",
ylab = "%")
dev.off()
png("plot6.png", width = 750, height = 700)
par(mfrow = c(2,2))
barplot(poll$emissions,
names.arg = poll$year,
col = "red",
main = "PM2.5 from Motor-vehicles in Los Angeles, CA",
ylab = "Emissions")
barplot(polb$emissions,
names.arg = polb$year,
col = "blue",
main = "PM2.5 from Motor-vehicles in Baltimore City, MD",
ylab = "Emissions")
barplot(poll$changel,
names.arg = poll$year,
col = "red",
main = "% change in PM2.5 in Los Angeles, CA",
ylab = "%",
ylim = c(-20, +20))
barplot(polb$changeb,
names.arg = polb$year,
col = "blue",
main = "% change in PM2.5 in Baltimore City, MD",
ylab = "%")
dev.off()
png("plot6.png", width = 750, height = 700)
par(mfrow = c(2,2))
barplot(poll$emissions,
names.arg = poll$year,
col = "red",
main = "PM2.5 from Motor-vehicles in Los Angeles, CA",
ylab = "Emissions")
barplot(polb$emissions,
names.arg = polb$year,
col = "blue",
main = "PM2.5 from Motor-vehicles in Baltimore City, MD",
ylab = "Emissions")
barplot(poll$changel,
names.arg = poll$year,
col = "red",
main = "% change in PM2.5 in Los Angeles, CA",
ylab = "%",
ylim = c(-20, +20))
barplot(polb$changeb,
names.arg = polb$year,
col = "blue",
main = "% change in PM2.5 in Baltimore City, MD",
ylab = "%")
dev.off()
png("plot6.png", width = 750, height = 750)
par(mfrow = c(2,2))
barplot(poll$emissions,
names.arg = poll$year,
col = "red",
main = "PM2.5 from Motor-vehicles in Los Angeles, CA",
ylab = "Emissions")
barplot(polb$emissions,
names.arg = polb$year,
col = "blue",
main = "PM2.5 from Motor-vehicles in Baltimore City, MD",
ylab = "Emissions")
barplot(poll$changel,
names.arg = poll$year,
col = "red",
main = "% change in PM2.5 in Los Angeles, CA",
ylab = "%",
ylim = c(-20, +10))
barplot(polb$changeb,
names.arg = polb$year,
col = "blue",
main = "% change in PM2.5 in Baltimore City, MD",
ylab = "%")
dev.off()
rm(list=ls())
